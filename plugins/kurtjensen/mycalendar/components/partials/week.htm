{% set MyWeek = __SELF__ %}
{% set dayPointer = MyWeek.dayPointer %}
{% set devents = MyWeek.monthEvents %}
{% set dprops = MyWeek.monthProperties %}
{% set trailDay = 0 %}

<table class="mycal" 
       data-request-data="month:{{ MyWeek.monthNum }}">
    <thead>
        <tr class="daysHead">
{% for hding in  MyWeek.calHeadings %}
            <th>{{ hding }}</th>
{% endfor %}
        </tr>
     </thead>
     <tbody>

{% if dayPointer < MyWeek.days_in_month %}

        <tr class="days">

{% for x in range(0, 6) %}{#    ** START - walk through 7 days of week ** #}

{#    ** Advance dayPointer ** #}
{% set dayPointer = dayPointer + 1 %}


{#    ** SHOW PREVIOUS MONTH DAYS ** If dayPointer indicates that current month has not started yet. #}
{% if dayPointer <1 %}

{% set prevDay = MyWeek.prevMonthStartDay + x %}
{% partial '@day' Container=MyWeek events= MyWeek.monthEvents(-1)[prevDay] dayProp = { class:'dis'} dayPointer=prevDay %}

{# 
************ SHOW NEXT MONTH DAYS ************
        If dayPointer indicates that current month has past.
#}
{% elseif dayPointer > MyWeek.days_in_month %}

{% set trailDay = trailDay + 1 %}
{% partial '@day' Container=MyWeek events= MyWeek.monthEvents(1)[trailDay] dayProp = { class:'dis'} dayPointer=trailDay %}

{# 
************ SHOW CURRENT MONTH DAYS ************
        If dayPointer indicates current
        month. ( Not Past or Previous )
#}
{% else %}

{% partial '@day' Container=MyWeek events=devents[dayPointer] dayProp = dprops[dayPointer] dayPointer=dayPointer %}

{% endif %}{# ** END - If dayPointer indicates that current month ** #}

{% endfor %}{# ** END - walk through 7 days of week ** #}
        </tr>
{% endif %}




    </tbody>
</table>